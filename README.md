## 豆瓣API服务
通过phantom无头浏览器爬取豆瓣页面，分析页面结构来解析并输出json类型数据

## 缘起
豆瓣之前有提供官方开放API，虽然每天调用接口有上限，但是至少可以使用，后来不知为何突然关闭了且不允许个人申请。笔者有部分个人项目有使用豆瓣的接口，所以突然关闭给笔者带来了不小的困扰，所以就有了这个项目

## 代码目录结构
- `config`: 项目的配置信息
- `middlewares`: 中间件函数
- `controllers`: 将路由转发到对应的model上
- `models`: 业务逻辑
- `routes`: 路由
- `utils`: 公共工具函数
- `app.js`: 服务入口

## 路由区分
- /book 书籍部分接口
- /movie 影视部分接口
- /music 音乐部分接口

## 接口详解
### 公共

### 书籍
- /book/list?key=&page= 根据关键词搜索书籍列表，只有概要，实际可能作用不大。豆瓣分页比较迷，如果页数较大的情况下是不会透出所有页数的，所以该接口统一不透出总页数数据，所以当请求某一页没有数据时那之前的一页应该就是最后一页。√
- /book/detail?url= 获取某本书籍的详细信息，url来自list或list_pro接口 √

### 影视
- /movie/list?key=&page= 根据关键词搜索影视列表，同书籍对应接口 √
- /movie/detail?url= 获取影视的详细信息，同书籍对应接口 √

## 特别注意
- 因为是通过爬取页面来抓取数据，所以会有以下问题：
- --数据较慢，且有一定失败概率
- --因为是通过分析页面结构来输出数据，页面结构很容易变动，所以相当不稳定，所以使用场景慎重考虑

## 部署
- 机器需要安装phantom
